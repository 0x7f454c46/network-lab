This lab is explained here:
  https://vincent.bernat.im/en/blog/2011-keepalived-snmp-ipv6
